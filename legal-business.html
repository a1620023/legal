<!doctype html>
<html lang="es" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal-Scan Pro | Blindaje Jurídico y Defensa Laboral</title>
    <script src="https://cdn.tailwindcss.com/3.4.17"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;0,700;1,600;1,700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'navy-dark': '#062c41',
                        'navy-deep': '#020d14',
                        'maroon': '#760109',
                        'maroon-light': '#9a0115',
                        'gold': '#D4AF37',
                        'gold-light': '#F9E076'
                    },
                    fontFamily: {
                        serif: ['Cormorant Garamond', 'Georgia', 'serif'],
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        html,
        body {
            height: 100%;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes float-btn {

            0%,
            100% {
                transform: translateY(0px) scale(1);
            }

            50% {
                transform: translateY(-8px) scale(1.03);
            }
        }

        @keyframes ring-pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(118, 1, 9, 0.5), 0 20px 50px rgba(0, 0, 0, 0.4);
            }

            70% {
                box-shadow: 0 0 0 14px rgba(118, 1, 9, 0), 0 20px 50px rgba(0, 0, 0, 0.4);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(118, 1, 9, 0), 0 20px 50px rgba(0, 0, 0, 0.4);
            }
        }

        @keyframes wa-ring-pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.5), 0 8px 24px rgba(0, 0, 0, 0.3);
            }

            70% {
                box-shadow: 0 0 0 12px rgba(37, 211, 102, 0), 0 8px 24px rgba(0, 0, 0, 0.3);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(37, 211, 102, 0), 0 8px 24px rgba(0, 0, 0, 0.3);
            }
        }

        .animate-float-btn {
            animation: float-btn 4s ease-in-out infinite, ring-pulse 2.5s ease-out infinite;
        }

        .animate-wa-pulse {
            animation: wa-ring-pulse 2s ease-out infinite;
        }

        .speed-dial-item {
            opacity: 0;
            transform: translateY(20px) scale(0.8);
            transition: opacity 0.3s ease, transform 0.3s ease, pointer-events 0s;
            pointer-events: none;
        }

        .speed-dial-item.open {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        .speed-dial-item:nth-child(1).open {
            transition-delay: 0.08s;
        }

        .speed-dial-item:nth-child(2).open {
            transition-delay: 0.16s;
        }

        .speed-dial-toggle span {
            transition: transform 0.35s ease, opacity 0.2s ease;
        }

        .speed-dial-toggle.open .icon-main {
            transform: rotate(45deg);
            opacity: 0;
            position: absolute;
        }

        .speed-dial-toggle.open .icon-close {
            opacity: 1;
        }

        @keyframes pulse-glow {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(118, 1, 9, 0.3);
            }

            50% {
                box-shadow: 0 0 40px rgba(118, 1, 9, 0.6);
            }
        }

        @keyframes scan-line {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(100%);
                opacity: 0;
            }
        }

        @keyframes fade-up {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes counter-up {
            from {
                opacity: 0;
                transform: scale(0.5);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slide-in-right {
            from {
                opacity: 0;
                transform: translateX(30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }

        .animate-fade-up {
            animation: fade-up 0.8s ease-out forwards;
        }

        .animate-counter {
            animation: counter-up 0.6s ease-out forwards;
        }

        .animate-slide-in {
            animation: slide-in-right 0.6s ease-out forwards;
        }

        .scan-effect::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, transparent, #760109, transparent);
            animation: scan-line 2s ease-in-out infinite;
        }

        .gradient-text {
            background: linear-gradient(135deg, #760109 0%, #d4af37 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-mesh {
            background-image:
                radial-gradient(at 0% 0%, rgba(118, 1, 9, 0.15) 0, transparent 50%),
                radial-gradient(at 100% 100%, rgba(212, 175, 55, 0.1) 0, transparent 50%);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-card-dark {
            background: rgba(2, 13, 20, 0.4);
            backdrop-filter: blur(40px);
            -webkit-backdrop-filter: blur(40px);
            border: 1px solid rgba(212, 175, 55, 0.1);
        }

        .gold-border {
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        /* Boutique Scheduler Styles */
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.03);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calendar-day:hover:not(.disabled) {
            background: rgba(212, 175, 55, 0.1);
            color: white;
            border-color: rgba(212, 175, 55, 0.3);
        }

        .calendar-day.active {
            background: #D4AF37;
            color: #020d14 !important;
            border-color: #D4AF37;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        .calendar-day.disabled {
            opacity: 0.1;
            cursor: not-allowed;
            pointer-events: none;
        }

        .calendar-header-day {
            text-align: center;
            font-size: 0.6rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(212, 175, 55, 0.5);
            margin-bottom: 0.5rem;
        }

        .time-chip {
            padding: 1rem;
            border-radius: 1rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            color: white;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .time-chip:hover {
            background: rgba(212, 175, 55, 0.1);
            border-color: rgba(212, 175, 55, 0.3);
        }

        .time-chip.selected {
            background: #760109;
            border-color: rgba(212, 175, 55, 0.5);
            box-shadow: 0 0 20px rgba(118, 1, 9, 0.3);
        }

        .scheduler-step {
            animation: fade-up 0.5s ease-out forwards;
        }

        .hero-mesh {
            background: radial-gradient(circle at 20% 30%, #062c41 0%, #020d14 100%);
        }

        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .reveal-on-scroll.active {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <style>
        body {
            box-sizing: border-box;
        }
    </style>
</head>

<div id="app-wrapper" class="w-full min-h-full bg-navy-deep text-white">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-navy-deep/80 backdrop-blur-xl border-b border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 gradient-wine rounded-xl flex items-center justify-center gold-border">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                        </svg>
                    </div>
                    <span class="font-serif font-bold text-2xl text-white tracking-widest uppercase">Legal<span
                            class="text-maroon">Scan</span> <span class="text-gold text-xs align-top">PRO</span></span>
                </div>
                <div class="hidden md:flex items-center gap-10">
                    <a href="business/index.html"
                        class="text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-gold transition-colors">Nuestro
                        Estudio</a>
                    <a href="#scanner"
                        class="text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-white transition-colors">Diagnóstico</a>
                    <a href="#servicios"
                        class="text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-white transition-colors">Servicios</a>
                </div>
                <button id="nav-cta" onclick="scheduleCall(getCurrentProfile())"
                    class="bg-maroon hover:bg-maroon-light text-white font-bold px-8 py-3 rounded-full text-xs uppercase tracking-widest transition-all gold-border hover:shadow-[0_0_20px_rgba(212,175,55,0.3)]">
                    Consulta Estratégica </button>
            </div>
        </div>
    </nav>
    <!-- Hero Section -->
    <section class="relative pt-32 pb-24 overflow-hidden hero-mesh">
        <!-- Background Image -->
        <div class="absolute right-0 top-0 w-1/2 h-full opacity-30 pointer-events-none">
            <img src="business/assets/legal_scan_eye.png" alt="Legal Eye" class="w-full h-full object-contain">
        </div>
        <div class="relative max-w-7xl mx-auto px-6 lg:px-8 grid lg:grid-cols-2 gap-16 items-center">
            <div class="reveal-on-scroll active">
                <!-- Badge -->
                <div
                    class="inline-flex items-center gap-2 bg-white/5 border border-white/10 rounded-full px-4 py-1.5 mb-8">
                    <span class="w-2 h-2 bg-gold rounded-full animate-pulse shadow-[0_0_10px_#D4AF37]"></span>
                    <span class="text-[10px] font-bold uppercase tracking-[.2em] text-white/70">Blindaje Jurídico &
                        Defensa Senior</span>
                </div><!-- Main Title -->
                <h1 id="hero-title"
                    class="font-serif text-3xl lg:text-4xl font-bold leading-tight mb-8 text-white tracking-tight">
                    Blindaje Jurídico <br><span class="text-gold italic">Laboral Estratégico</span></h1>
                <!-- Subtitle -->
                <p id="hero-subtitle" class="text-xl text-gray-400 max-w-lg mb-12 leading-relaxed italic">
                    Protegemos la integridad de su organización y validamos la justicia de sus derechos con rigor
                    institucional.</p><!-- CTA Buttons -->
                <div class="flex flex-col sm:flex-row gap-5">
                    <button onclick="scheduleCall('empresa')"
                        class="group relative px-8 py-5 bg-maroon text-white font-bold rounded-2xl overflow-hidden transition-all hover:scale-[1.02] flex-1 text-center">
                        <div
                            class="absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-500">
                        </div>
                        <span
                            class="relative flex items-center justify-center gap-3 text-[10px] tracking-widest uppercase">
                            Blindaje para Empresas
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                            </svg>
                        </span>
                    </button>
                    <button onclick="scheduleCall('trabajador')"
                        class="group relative px-8 py-5 glass-card-dark text-white font-bold rounded-2xl border border-white/10 hover:bg-white/10 transition-all hover:scale-[1.02] flex-1 text-center">
                        <span
                            class="relative flex items-center justify-center gap-3 text-[10px] tracking-widest uppercase">
                            Defensa para Trabajadores
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
            <div class="relative lg:block hidden reveal-on-scroll active" style="transition-delay: 200ms;">
                <div
                    class="relative z-10 p-2 bg-gradient-to-br from-white/10 to-transparent rounded-[3rem] gold-border">
                    <div class="bg-navy-deep rounded-[2.8rem] overflow-hidden p-8">
                        <div class="flex justify-between items-center mb-10">
                            <div>
                                <p class="text-[10px] uppercase tracking-widest text-gray-500 mb-1">Estatus del Sistema
                                </p>
                                <h4 class="text-2xl font-bold font-serif">Análisis Activo</h4>
                            </div>
                            <div class="w-12 h-12 glass-card rounded-xl flex items-center justify-center text-maroon">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1a1 1 0 112 0v1a1 1 0 11-2 0zM13.586 15.586a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM16 11a1 1 0 110 2h-1a1 1 0 110-2h1z" />
                                </svg>
                            </div>
                        </div>
                        <div class="space-y-6">
                            <div class="p-5 glass-card rounded-2xl hover:bg-white/5 transition">
                                <div class="flex justify-between text-xs mb-2">
                                    <span class="text-gray-400">Fiabilidad Legal</span>
                                    <span class="text-gold">99.8%</span>
                                </div>
                                <div class="w-full h-1.5 bg-white/5 rounded-full overflow-hidden">
                                    <div class="w-[99.8%] h-full bg-gold rounded-full"></div>
                                </div>
                            </div>
                            <div class="p-5 glass-card rounded-2xl hover:bg-white/5 transition">
                                <div class="flex justify-between text-xs mb-2">
                                    <span class="text-gray-400">Cálculo de Beneficios</span>
                                    <span class="text-maroon">En proceso...</span>
                                </div>
                                <div class="w-full h-1.5 bg-white/5 rounded-full overflow-hidden">
                                    <div class="w-[75%] h-full bg-maroon rounded-full animate-[pulse_1.5s_infinite]">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Scanner Section -->
    <section id="scanner" class="py-24 bg-navy-deep relative overflow-hidden">
        <!-- Decorative Elements -->
        <div class="absolute top-0 left-1/4 w-[500px] h-[500px] bg-maroon/10 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-gold/5 rounded-full blur-[120px]"></div>

        <div class="relative max-w-5xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-16 reveal-on-scroll">
                <h2 id="scanner-title"
                    class="font-serif text-2xl lg:text-3xl font-bold mb-6 italic text-white tracking-wide">
                    Escáner de <span class="text-gold">Riesgos y Derechos</span></h2>
                <p class="text-gray-400 text-lg max-w-2xl mx-auto">Auditoría institucional inmediata para detectar
                    contingencias críticas o validar beneficios no pagados. Confidencialidad bajo secreto profesional.
                </p>
            </div><!-- Profile Selector -->
            <div class="flex flex-col sm:flex-row gap-6 justify-center mb-20 reveal-on-scroll" id="profile-selector">
                <button onclick="openFlowModal('trabajador')"
                    class="group flex-1 sm:flex-none px-12 py-5 rounded-2xl font-bold transition-all bg-white text-navy-deep hover:bg-gold hover:scale-105 shadow-[0_0_30px_rgba(255,255,255,0.1)]"
                    id="btn-trabajador-main">
                    <span class="flex items-center justify-center gap-3">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg> SOY TRABAJADOR
                    </span>
                </button>
                <button onclick="openFlowModal('empresa')"
                    class="group flex-1 sm:flex-none px-12 py-5 rounded-2xl font-bold transition-all glass-card-dark text-white hover:bg-white/10 hover:scale-105 border border-white/10"
                    id="btn-empresa-main">
                    <span class="flex items-center justify-center gap-3">
                        <svg class="w-6 h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                        </svg> SOY EMPRESA
                    </span>
                </button>
            </div>

            <!-- Trust Badges -->
            <div
                class="flex flex-wrap justify-center gap-10 text-[10px] font-bold uppercase tracking-[.3em] text-gray-500 reveal-on-scroll">
                <div class="flex items-center gap-3">
                    <span class="w-1.5 h-1.5 bg-maroon rounded-full"></span> ENCRIPTACIÓN MILITAR
                </div>
                <div class="flex items-center gap-3">
                    <span class="w-1.5 h-1.5 bg-maroon rounded-full"></span> 100% CONFIDENCIAL
                </div>
                <div class="flex items-center gap-3">
                    <span class="w-1.5 h-1.5 bg-maroon rounded-full"></span> SIN RIESGOS
                </div>
            </div>
        </div>
    </section>
    <!-- Segmentation Section -->
    <section id="servicios" class="py-24 bg-navy-deep/50">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-20 reveal-on-scroll">
                <h2 class="font-serif text-2xl lg:text-3xl font-bold mb-4 italic tracking-wide">Estrategias de <span
                        class="text-gold">Protección</span></h2>
                <p class="text-gray-400 text-lg">Soluciones de alto nivel diseñadas para la integridad laboral.</p>
            </div>
            <div class="grid lg:grid-cols-2 gap-10">
                <!-- Card: Empresas -->
                <div class="group relative glass-card-dark rounded-[2.5rem] p-10 lg:p-12 hover:bg-white/5 transition-all duration-500 cursor-pointer overflow-hidden gold-border reveal-on-scroll"
                    onclick="scheduleCall('empresa')">
                    <div class="relative z-10">
                        <div
                            class="w-16 h-16 gradient-wine rounded-2xl flex items-center justify-center mb-8 shadow-xl gold-border">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                            </svg>
                        </div>
                        <h3 class="text-3xl font-bold mb-4 font-serif">Blindaje Corporativo</h3>
                        <p class="text-gray-400 mb-8 leading-relaxed">Gestión estratégica de riesgos y auditoría de
                            cumplimiento para organizaciones de primer nivel.</p>
                        <ul class="space-y-4 mb-10">
                            <li class="flex items-center gap-4 text-sm text-gray-300">
                                <span class="w-1.5 h-1.5 bg-gold rounded-full"></span> Auditoría de Alta Dirección
                            </li>
                            <li class="flex items-center gap-4 text-sm text-gray-300">
                                <span class="w-1.5 h-1.5 bg-gold rounded-full"></span> Reestructuraciones Laborales
                            </li>
                            <li class="flex items-center gap-4 text-sm text-gray-300">
                                <span class="w-1.5 h-1.5 bg-gold rounded-full"></span> Alertas SUNAFIL Predictivas
                            </li>
                        </ul>
                        <div
                            class="flex items-center text-gold font-bold text-[10px] tracking-[.2em] uppercase group-hover:translate-x-3 transition-transform">
                            SOLUCIONES B2B
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 8l4 4m0 0l-4 4m4-4H3" />
                            </svg>
                        </div>
                    </div>
                </div><!-- Card: Trabajadores -->
                <div class="group relative glass-card-dark rounded-[2.5rem] p-10 lg:p-12 hover:bg-white/5 transition-all duration-500 cursor-pointer overflow-hidden gold-border reveal-on-scroll"
                    onclick="scheduleCall('trabajador')" style="transition-delay: 200ms;">
                    <div class="relative z-10">
                        <div class="w-16 h-16 bg-gold rounded-2xl flex items-center justify-center mb-8 shadow-xl">
                            <svg class="w-8 h-8 text-navy-deep" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                        <h3 class="text-3xl font-bold mb-4 font-serif">Protección del Trabajador</h3>
                        <p class="text-gray-400 mb-8 leading-relaxed">Defensa senior y validación de derechos para
                            ejecutivos y trabajadores en situaciones críticas.</p>
                        <ul class="space-y-4 mb-10">
                            <li class="flex items-center gap-4 text-sm text-gray-300">
                                <span class="w-1.5 h-1.5 bg-maroon rounded-full"></span> Liquidación de Beneficios
                            </li>
                            <li class="flex items-center gap-4 text-sm text-gray-300">
                                <span class="w-1.5 h-1.5 bg-maroon rounded-full"></span> Litigio por Despido Nulo
                            </li>
                            <li class="flex items-center gap-4 text-sm text-gray-300">
                                <span class="w-1.5 h-1.5 bg-maroon rounded-full"></span> Indemnizaciones Máximas
                            </li>
                        </ul>
                        <div
                            class="flex items-center text-white font-bold text-[10px] tracking-[.2em] uppercase group-hover:translate-x-3 transition-transform">
                            DEFENDER DERECHOS
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 8l4 4m0 0l-4 4m4-4H3" />
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="py-24 bg-navy-deep relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-16 reveal-on-scroll">
                <h2 class="font-serif text-2xl lg:text-3xl font-bold mb-4 italic tracking-wide">Ruta de <span
                        class="text-gold">Blindaje</span></h2>
                <p class="text-gray-400 text-lg">Gestión institucional en tres fases críticas para su seguridad.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-12">
                <!-- Step 1 -->
                <div class="relative text-center reveal-on-scroll">
                    <div
                        class="w-24 h-24 gradient-wine rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-2xl gold-border">
                        <span class="text-2xl font-bold font-serif text-white">01</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 font-serif text-white">Auditoría Legal</h3>
                    <p class="text-gray-400 leading-relaxed">Revisión exhaustiva de su situación contractual frente al
                        marco normativo vigente.</p>
                </div><!-- Step 2 -->
                <div class="relative text-center reveal-on-scroll" style="transition-delay: 200ms;">
                    <div class="w-24 h-24 bg-gold rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-2xl">
                        <span class="text-2xl font-bold font-serif text-navy-deep">02</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 font-serif text-white">Diseño Estratégico</h3>
                    <p class="text-gray-400 leading-relaxed">Determinación de derechos y construcción de la defensa
                        técnica basada en precedentes.</p>
                </div><!-- Step 3 -->
                <div class="relative text-center reveal-on-scroll" style="transition-delay: 400ms;">
                    <div
                        class="w-24 h-24 glass-card-dark rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-2xl border border-white/10">
                        <span class="text-2xl font-bold font-serif text-gold">03</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 font-serif text-white">Ejecución Pro</h3>
                    <p class="text-gray-400 leading-relaxed">Asignación de equipo legal senior para la defensa o
                        blindaje de sus intereses.</p>
                </div>
            </div>
        </div>
    </section>
    <!-- Social Proof Section -->
    <section id="resultados" class="py-24 bg-white/5 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-20 reveal-on-scroll">
                <h2 class="font-serif text-2xl lg:text-3xl font-bold mb-4 italic text-white tracking-wide">Métricas de
                    <span class="text-gold">Impacto</span>
                </h2>
                <p class="text-gray-400 text-lg">Excelencia procesal demostrada en la práctica.</p>
            </div><!-- Stats Grid -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-8 mb-24">
                <div class="glass-card-dark rounded-3xl p-10 text-center reveal-on-scroll gold-border">
                    <div class="text-3xl lg:text-4xl font-bold text-white mb-3 font-serif italic">2.8k<span
                            class="text-gold">+</span></div>
                    <div class="text-[10px] font-bold uppercase tracking-widest text-gray-500">Casos
                        Resolvidos</div>
                </div>
                <div class="glass-card-dark rounded-3xl p-10 text-center reveal-on-scroll gold-border"
                    style="transition-delay: 100ms;">
                    <div class="text-3xl lg:text-4xl font-bold text-white mb-3 font-serif italic">98<span
                            class="text-gold">%</span>
                    </div>
                    <div class="text-[10px] font-bold uppercase tracking-widest text-gray-500">Éxito
                        Judicial</div>
                </div>
                <div class="glass-card-dark rounded-3xl p-10 text-center reveal-on-scroll gold-border"
                    style="transition-delay: 200ms;">
                    <div class="text-3xl lg:text-4xl font-bold text-gold mb-3 font-serif italic">S/15M</div>
                    <div class="text-[10px] font-bold uppercase tracking-widest text-gray-500">
                        Recuperados</div>
                </div>
                <div class="glass-card-dark rounded-3xl p-10 text-center reveal-on-scroll gold-border"
                    style="transition-delay: 300ms;">
                    <div class="text-5xl font-bold text-white mb-3 font-serif italic">24<span
                            class="text-maroon">/7</span></div>
                    <div class="text-[10px] font-bold uppercase tracking-widest text-gray-500">Soporte
                        Estratégico</div>
                </div>
            </div><!-- Testimonials -->
            <div class="grid md:grid-cols-2 gap-8 mb-20">
                <div class="glass-card rounded-[2.5rem] p-10 border border-white/5 reveal-on-scroll">
                    <div class="flex gap-1 mb-6">
                        <span class="text-gold text-xl">★★★★★</span>
                    </div>
                    <p class="text-gray-100 text-xl mb-10 italic leading-relaxed">"Legal-Scan analizó mi
                        caso en segundos. El nivel de precisión estratégica es superior a cualquier
                        bufete tradicional."</p>
                    <div class="flex items-center gap-5">
                        <div
                            class="w-14 h-14 bg-maroon rounded-full flex items-center justify-center text-white font-bold">
                            CM</div>
                        <div>
                            <div class="text-white font-bold">Carlos M.</div>
                            <div class="text-xs text-gray-500 uppercase tracking-widest">Ex-Ejecutivo
                                Sector Minería</div>
                        </div>
                    </div>
                </div>
                <div class="glass-card rounded-[2.5rem] p-10 border border-white/5 reveal-on-scroll"
                    style="transition-delay: 200ms;">
                    <div class="flex gap-1 mb-6">
                        <span class="text-gold text-xl">★★★★★</span>
                    </div>
                    <p class="text-gray-100 text-xl mb-10 italic leading-relaxed">"Como gerente
                        corporativo, la auditoría de Legal-Scan Pro nos permitió blindar la empresa
                        contra contingencias millonarias."</p>
                    <div class="flex items-center gap-5">
                        <div
                            class="w-14 h-14 bg-navy-dark rounded-full flex items-center justify-center text-white font-bold">
                            AR</div>
                        <div>
                            <div class="text-white font-bold">Ana R.</div>
                            <div class="text-xs text-gray-500 uppercase tracking-widest">HR Director -
                                Global Retail</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
</div>
</div>
</section>

<!-- Team Section -->
<section id="equipo" class="py-24 bg-navy-deep relative overflow-hidden border-t border-white/5">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <div class="text-center mb-20 reveal-on-scroll">
            <h2 class="font-serif text-4xl lg:text-6xl font-bold mb-4 italic text-white">Liderazgo <span
                    class="text-gold">Estratégico</span></h2>
            <p class="text-gray-400 text-lg">Expertos en derecho laboral con visión corporativa.</p>
        </div>

        <div class="max-w-4xl mx-auto">
            <div class="glass-card-dark rounded-[3rem] p-8 lg:p-16 gold-border reveal-on-scroll">
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="relative">
                        <div class="aspect-[4/5] rounded-[2rem] overflow-hidden gold-border shadow-2xl">
                            <img src="business/assets/lead_attorney.png" alt="Dra. Alejandra Valdivia"
                                class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700">
                        </div>
                        <!-- Decorative elements -->
                        <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-gold/10 rounded-full blur-2xl"></div>
                        <div class="absolute -top-6 -left-6 w-32 h-32 bg-maroon/10 rounded-full blur-2xl"></div>
                    </div>

                    <div>
                        <div
                            class="inline-flex items-center gap-2 bg-gold/10 border border-gold/20 rounded-full px-4 py-1.5 mb-6">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-gold text-white/70">Socia
                                Directora</span>
                        </div>
                        <h3 class="text-4xl font-serif font-bold text-white mb-2 italic">Dra. Alejandra Valdivia</h3>
                        <p class="text-gray-400 mb-8 leading-relaxed italic">"Nuestra misión es transformar la
                            complejidad legal en una ventaja competitiva para nuestros clientes."</p>

                        <ul class="space-y-4 mb-10 text-sm text-gray-300">
                            <li class="flex items-start gap-4">
                                <span class="text-gold mt-1">✦</span>
                                <span>Abogada laboral con más de 8 años de experiencia en consultoría
                                    estratégica.</span>
                            </li>
                            <li class="flex items-start gap-4">
                                <span class="text-gold mt-1">✦</span>
                                <span>Especialista reconocida en auditoría de riesgos y cumplimiento normativo.</span>
                            </li>
                            <li class="flex items-start gap-4">
                                <span class="text-gold mt-1">✦</span>
                                <span>Ponente internacional en derecho laboral y seguridad en el trabajo.</span>
                            </li>
                        </ul>

                        <button onclick="scheduleCall('empresa')"
                            class="bg-white/5 hover:bg-white/10 text-white border border-white/10 px-8 py-4 rounded-xl transition-all uppercase text-[10px] font-bold tracking-[.3em] w-full md:w-auto">
                            Contactar Directamente
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="py-24 relative overflow-hidden bg-navy-deep border-t border-white/5">
    <div class="relative max-w-5xl mx-auto px-6 lg:px-8 text-center reveal-on-scroll">
        <h2 class="font-serif text-4xl lg:text-7xl font-bold mb-8 italic">Su victoria legal<br>
            comienza <span class="gradient-text">ahora</span></h2>
        <p class="text-gray-400 text-xl mb-12 max-w-2xl mx-auto leading-relaxed">No permita que la incertidumbre
            erosione su patrimonio. Agende una consulta estratégica de alto nivel.</p>
        <button id="final-cta" onclick="scheduleCall(getCurrentProfile())"
            class="group relative inline-flex items-center gap-4 bg-maroon text-white font-bold px-12 py-6 rounded-2xl text-xl transition-all hover:scale-[1.05] gold-border shadow-[0_20px_50px_rgba(118,1,9,0.3)]">
            <svg class="w-6 h-6 group-hover:rotate-12 transition-transform" fill="none" stroke="currentColor"
                viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
            <span id="final-cta-text">SOLICITAR CONFERENCIA ESTRATÉGICA</span>
        </button>
        <p class="text-gray-500 text-[10px] font-bold uppercase tracking-[.4em] mt-10">Confidencialidad Nivel
            Corporativo · Disponibilidad 24/7</p>
    </div>
</section><!-- Floating Speed-Dial -->
<div id="floating-cta"
    class="fixed bottom-8 right-8 z-50 flex flex-col items-end gap-3 opacity-0 translate-y-10 transition-all duration-700 pointer-events-none">

    <!-- Speed-dial items (appear above main button) -->
    <div class="flex flex-col items-end gap-3">

        <!-- WhatsApp -->
        <div class="speed-dial-item flex items-center gap-3" id="sd-wa">
            <span
                class="bg-navy-deep/90 text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1.5 rounded-full border border-white/10 whitespace-nowrap backdrop-blur-sm">WhatsApp</span>
            <a href="https://wa.me/51999999999?text=Hola%2C%20quiero%20una%20consulta%20legal" target="_blank"
                rel="noopener"
                class="w-14 h-14 rounded-2xl flex items-center justify-center text-white transition-all hover:scale-110 animate-wa-pulse"
                style="background:#25D366;">
                <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                </svg>
            </a>
        </div>

        <!-- Agenda -->
        <div class="speed-dial-item flex items-center gap-3" id="sd-agenda">
            <span
                class="bg-navy-deep/90 text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1.5 rounded-full border border-white/10 whitespace-nowrap backdrop-blur-sm">Agendar</span>
            <button onclick="scheduleCall(getCurrentProfile())"
                class="w-14 h-14 bg-maroon rounded-2xl flex items-center justify-center text-white transition-all hover:scale-110 hover:bg-maroon-light gold-border">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Main toggle button -->
    <button id="sd-toggle" onclick="toggleSpeedDial()"
        class="speed-dial-toggle w-16 h-16 bg-maroon rounded-2xl flex items-center justify-center text-white relative overflow-hidden gold-border animate-float-btn transition-colors hover:bg-maroon-light">
        <span class="icon-main absolute inset-0 flex items-center justify-center">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14M5 12h14" />
            </svg>
        </span>
        <span class="icon-close absolute inset-0 flex items-center justify-center opacity-0">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </span>
    </button>
</div><!-- Footer -->
<footer class="bg-navy-deep py-20 border-t border-white/5">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <div class="flex flex-col md:flex-row items-center justify-between gap-12">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 gradient-wine rounded-xl flex items-center justify-center gold-border">
                    <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                </div>
                <span class="font-serif font-bold text-2xl text-white tracking-widest uppercase">Legal<span
                        class="text-maroon">Scan</span></span>
            </div>
            <div
                class="flex flex-wrap justify-center gap-12 text-[10px] font-bold uppercase tracking-[.3em] text-gray-500">
                <a href="./business/index.html" class="hover:text-gold transition-colors">ESTUDIO</a>
                <a href="./business/servicios.html" class="hover:text-gold transition-colors">SERVICIOS</a>
                <a href="./business/nosotros.html" class="hover:text-gold transition-colors">IDENTIDAD</a>
                <a href="./business/accidentes-laborales.html" class="hover:text-gold transition-colors">CASOS</a>
            </div>
            <div class="text-[10px] font-bold uppercase tracking-[.2em] text-gray-600">
                © 2024 Legal-Scan Pro · Lima HQ
            </div>
        </div>
    </div>
</footer>
<!-- Schedule Modal -->
<div id="schedule-modal" class="fixed inset-0 z-[100] hidden">
    <div class="absolute inset-0 bg-navy-deep/90 backdrop-blur-xl" onclick="closeModal()"></div>
    <div
        class="absolute inset-4 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-xl">
        <div
            class="glass-card-dark rounded-[2.5rem] p-8 sm:p-12 shadow-[0_0_100px_rgba(0,0,0,0.5)] gold-border relative overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-maroon/10 rounded-bl-full"></div>

            <div class="relative z-10">
                <div class="flex items-center justify-between mb-10">
                    <div>
                        <h3 id="modal-title" class="text-2xl font-bold text-white font-serif mb-2 italic">Conferencia
                            Estratégica</h3>
                        <p class="text-gray-500 text-[12px] italic">Reserva de alto nivel para casos críticos.</p>
                    </div>
                    <button onclick="closeModal()"
                        class="w-12 h-12 glass-card-dark rounded-full flex items-center justify-center hover:bg-white/10 transition-all hover:rotate-90 border border-white/10">
                        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <!-- Modal Body (Multi-step) -->
                <div id="scheduler-steps" class="flex-1">
                    <!-- Step 1: Elite Date Selection -->
                    <div id="step-date" class="scheduler-step">
                        <div class="mb-8">
                            <h3 class="text-2xl font-bold text-white mb-2 font-serif italic">Seleccione una Fecha</h3>
                            <p class="text-gray-500 text-sm">Disponibilidad senior para asesoría estratégica.</p>
                        </div>
                        <div id="calendar-grid" class="grid grid-cols-7 gap-2 mb-10">
                            <!-- Dynamic Calendar -->
                        </div>
                    </div>

                    <!-- Step 2: Time Selection -->
                    <div id="step-time" class="scheduler-step hidden">
                        <div class="mb-8">
                            <button onclick="goToStep('date')"
                                class="text-gold text-[10px] uppercase tracking-widest font-bold flex items-center gap-2 mb-4 hover:opacity-70 transition-all">
                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 19l-7-7 7-7" />
                                </svg> Volver a Fechas
                            </button>
                            <h3 class="text-2xl font-bold text-white mb-2 font-serif italic">Horario de Preferencia</h3>
                            <p id="selected-date-display" class="text-gold text-sm font-bold uppercase tracking-widest">
                            </p>
                        </div>
                        <div id="time-grid" class="grid grid-cols-2 gap-4">
                            <!-- Dynamic Time Chips -->
                        </div>
                    </div>

                    <!-- Step 3: Final Confirmation -->
                    <div id="step-confirm" class="scheduler-step hidden">
                        <div class="mb-8 text-center">
                            <h3 class="text-2xl font-bold text-white mb-2 font-serif italic">Resumen de Reserva</h3>
                            <p class="text-gray-500 text-sm">Validación final para el blindaje estratégico.</p>
                        </div>
                        <form id="schedule-form" onsubmit="submitForm(event)" class="space-y-6 max-w-sm mx-auto">
                            <div class="glass-card-dark p-6 rounded-2xl border border-white/5 mb-8">
                                <div class="flex justify-between mb-4">
                                    <span
                                        class="text-gray-500 text-[10px] font-bold uppercase tracking-widest">Fecha:</span>
                                    <span id="summary-date" class="text-white font-bold"></span>
                                </div>
                                <div class="flex justify-between">
                                    <span
                                        class="text-gray-500 text-[10px] font-bold uppercase tracking-widest">Hora:</span>
                                    <span id="summary-time" class="text-white font-bold"></span>
                                </div>
                            </div>
                            <input type="text" id="name" name="name" required placeholder="Nombre Completo"
                                class="w-full bg-white/5 border border-white/10 rounded-xl px-6 py-4 text-white focus:border-gold transition-all outline-none">
                            <input type="tel" id="phone" name="phone" required placeholder="Teléfono de Contacto"
                                class="w-full bg-white/5 border border-white/10 rounded-xl px-6 py-4 text-white focus:border-gold transition-all outline-none">
                            <input type="hidden" id="email" name="email">
                            <button type="submit"
                                class="w-full bg-gold text-navy-deep font-bold py-5 rounded-2xl text-[11px] uppercase tracking-[.3em] transition-all hover:scale-[1.02] shadow-2xl flex items-center justify-center gap-3 mt-4">
                                Sellar Reserva Ejecutiva
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Flow Modal (Diagnostic/Upload) -->
<div id="flow-modal" class="fixed inset-0 z-[60] hidden">
    <div class="absolute inset-0 bg-navy-deep/90 backdrop-blur-xl" onclick="closeFlowModal()"></div>
    <div
        class="absolute inset-4 sm:inset-auto sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2 sm:w-full sm:max-w-3xl">
        <div
            class="glass-card-dark rounded-[2.5rem] p-8 sm:p-12 shadow-[0_0_100px_rgba(0,0,0,0.5)] gold-border relative overflow-hidden h-[90vh] sm:h-auto flex flex-col">

            <!-- Modal Header -->
            <div id="modal-header" class="relative z-10 mb-10">
                <div class="flex items-center justify-between mb-8">
                    <div id="modal-profile-badge" class="profile-badge mb-0">
                        <!-- Dynamic Badge -->
                    </div>
                    <button onclick="closeFlowModal()"
                        class="w-12 h-12 glass-card-dark rounded-full flex items-center justify-center hover:bg-white/10 transition-all border border-white/10">
                        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <h2 id="modal-main-title" class="font-serif text-4xl lg:text-5xl font-bold text-white mb-4 italic">
                    Auditoría <span class="text-gold">Estratégica</span></h2>
                <p id="modal-main-subtitle" class="text-gray-400 text-lg">Iniciando protocolo de validación jurídica
                    institucional.</p>
            </div>

            <div class="relative z-10 flex-1 flex flex-col justify-center">
                <!-- Auth State (NEW Prerequisite) -->
                <div id="auth-state" class="text-center">
                    <div
                        class="w-16 h-16 bg-gold/10 rounded-2xl flex items-center justify-center mx-auto mb-8 border border-gold/20">
                        <svg class="w-8 h-8 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4 font-serif italic">Validación de Perfil</h3>
                    <p class="text-gray-500 mb-10 max-w-xs mx-auto">Para garantizar la reserva de su estrategia laboral,
                        por favor identifíquese.</p>

                    <div class="max-w-sm mx-auto space-y-4">
                        <input type="email" id="auth-email" placeholder="Correo electrónico institucional"
                            class="w-full bg-white/5 border border-white/10 rounded-xl px-6 py-4 text-white text-sm focus:outline-none focus:border-gold/50 transition-all font-sans">
                        <button onclick="handleAuthSubmit()"
                            class="w-full bg-gold text-navy-deep font-bold py-4 rounded-xl text-[10px] uppercase tracking-[.3em] transition-all hover:scale-[1.02] shadow-xl">
                            Continuar al Escáner
                        </button>
                    </div>
                    <p class="mt-8 text-[9px] text-gray-600 uppercase tracking-widest font-bold">Confidencialidad Senior
                        Garantizada</p>
                </div>

                <!-- Upload Zone -->
                <div id="upload-zone" class="text-center group">
                    <div onclick="simulateScan()" class="cursor-pointer">
                        <div
                            class="w-40 h-40 gradient-wine rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 shadow-3xl gold-border-hover transition-all group-hover:scale-105 group-hover:rotate-3 relative overflow-hidden">
                            <div
                                class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity">
                            </div>
                            <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-4 font-serif">Carga de Documentación</h3>
                        <p class="text-gray-500 mb-8 max-w-sm mx-auto">Arrastre su contrato, carta de despido o
                            liquidación. Procesamiento cifrado E2EE.</p>
                        <button onclick="simulateScan()"
                            class="bg-white/5 hover:bg-white/10 text-white border border-white/10 px-8 py-4 rounded-xl transition-all uppercase text-[10px] font-bold tracking-[.3em]">
                            Seleccionar Archivo
                        </button>
                    </div>
                </div>

                <!-- Scanning State -->
                <div id="scanning-state" class="hidden text-center py-20">
                    <div class="relative w-48 h-48 mx-auto mb-12">
                        <svg class="w-full h-full -rotate-90">
                            <circle cx="96" cy="96" r="90" stroke="currentColor" stroke-width="6" fill="transparent"
                                class="text-white/5" />
                            <circle id="progress-circle" cx="96" cy="96" r="90" stroke="currentColor" stroke-width="6"
                                fill="transparent" class="text-gold" stroke-dasharray="565" stroke-dashoffset="565"
                                style="transition: stroke-dashoffset 0.1s linear; stroke-linecap: round;" />
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span id="progress-text" class="text-4xl font-serif font-bold text-white italic">0%</span>
                        </div>
                    </div>
                    <h3 class="text-3xl font-bold text-white mb-4 font-serif italic">Ejecutando <span
                            class="text-gold">Escáner Jurídico</span>...</h3>
                    <p id="scanning-subtitle" class="text-gray-500 text-lg">Contrastando documentación con precedentes y
                        marcos normativos.</p>
                </div>

                <!-- Result State - Trabajador -->
                <div id="result-state-trabajador" class="hidden h-full overflow-y-auto custom-scrollbar pr-4">
                    <div class="text-center mb-10">
                        <div class="w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-10 h-10 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <h3 class="text-4xl font-serif font-bold text-white mb-2 italic">Validación <span
                                class="text-gold">Positiva</span></h3>
                        <p class="text-gray-500">Se han identificado vulnerabilidades críticas en el proceso laboral.
                        </p>
                    </div>
                    <div class="grid gap-6 mb-10">
                        <div class="glass-card-dark p-6 rounded-2xl gold-border flex justify-between items-center">
                            <span class="text-gray-400 font-bold uppercase text-[10px] tracking-widest">Viabilidad
                                Procesal</span>
                            <span class="text-3xl font-serif font-bold text-gold italic">85%</span>
                        </div>
                        <div
                            class="glass-card-dark p-6 rounded-2xl border border-white/5 flex justify-between items-center">
                            <span class="text-gray-400 font-bold uppercase text-[10px] tracking-widest">Recuperación
                                Estimada</span>
                            <span class="text-3xl font-serif font-bold text-white italic">S/ 24.5k</span>
                        </div>
                    </div>
                    <button onclick="handleScheduleAndClose('trabajador')"
                        class="w-full bg-maroon text-white font-bold py-6 rounded-2xl text-xl transition-all hover:scale-[1.02] shadow-2xl gold-border uppercase tracking-widest">
                        Solicitar Patrocinio Estratégico
                    </button>
                </div>

                <!-- Result State - Empresa -->
                <div id="result-state-empresa" class="hidden h-full overflow-y-auto custom-scrollbar pr-4">
                    <div class="text-center mb-10">
                        <div class="w-20 h-20 bg-maroon/10 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-10 h-10 text-maroon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                            </svg>
                        </div>
                        <h3 class="text-4xl font-serif font-bold text-white mb-2 italic">Riesgo <span
                                class="text-maroon">Detectado</span></h3>
                        <p class="text-gray-500">Contingencias críticas en el proceso de auditoría.</p>
                    </div>
                    <div class="grid gap-6 mb-10">
                        <div
                            class="glass-card-dark p-6 rounded-2xl border border-maroon/30 flex justify-between items-center">
                            <span class="text-gray-400 font-bold uppercase text-[10px] tracking-widest">Nivel de
                                Exposición</span>
                            <span class="text-3xl font-serif font-bold text-maroon italic">CRÍTICO</span>
                        </div>
                        <div
                            class="glass-card-dark p-6 rounded-2xl border border-white/5 flex justify-between items-center">
                            <span class="text-gray-400 font-bold uppercase text-[10px] tracking-widest">Proyección
                                de Multas</span>
                            <span class="text-3xl font-serif font-bold text-white italic">S/ 120k+</span>
                        </div>
                    </div>
                    <button onclick="handleScheduleAndClose('empresa')"
                        class="w-full bg-navy-dark text-white font-bold py-6 rounded-2xl text-xl transition-all hover:scale-[1.02] shadow-2xl gold-border uppercase tracking-widest">
                        Solicitar Blindaje Ejecutivo
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Success Toast -->
<div id="success-toast"
    class="fixed bottom-10 left-10 z-[200] opacity-0 translate-x-[-20px] transition-all duration-700 pointer-events-none">
    <div
        class="glass-card-dark px-10 py-6 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] gold-border flex items-center gap-6">
        <div class="w-12 h-12 bg-gold/20 rounded-xl flex items-center justify-center">
            <svg class="w-6 h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
        </div>
        <div>
            <p class="text-white font-bold uppercase text-[10px] tracking-[.3em] mb-1">Confirmación Recibida</p>
            <p class="text-gray-400 text-sm">Reserva senior agendada con éxito.</p>
        </div>
    </div>
</div>
</div>
<script>
    // Estado global de perfil
    let currentProfile = null;

    // Default configuration
    const defaultConfig = {
        hero_title: 'Estrategia Laboral Inteligente',
        hero_subtitle: 'Resuelve conflictos laborales con tecnología de diagnóstico avanzado. Del problema a la solución en minutos, no en semanas.',
        scanner_title: 'Analizador de Documentos Laborales',
        empresa_title: 'Auditoría de Riesgos Laborales',
        trabajador_title: 'Análisis de tu Caso',
        cta_button_text: 'Agendar Videollamada Estratégica',
        background_color: '#FAFBFC',
        surface_color: '#FFFFFF',
        text_color: '#144866',
        primary_action_color: '#760109',
        secondary_action_color: '#144866'
    };

    let config = { ...defaultConfig };

    // Initialize Element SDK
    if (window.elementSdk) {
        window.elementSdk.init({
            defaultConfig,
            onConfigChange: async (newConfig) => {
                config = { ...defaultConfig, ...newConfig };
                updateUI();
            },
            mapToCapabilities: (config) => ({
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            config.background_color = value;
                            window.elementSdk.setConfig({ background_color: value });
                        }
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            config.surface_color = value;
                            window.elementSdk.setConfig({ surface_color: value });
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            config.text_color = value;
                            window.elementSdk.setConfig({ text_color: value });
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            config.primary_action_color = value;
                            window.elementSdk.setConfig({ primary_action_color: value });
                        }
                    },
                    {
                        get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                        set: (value) => {
                            config.secondary_action_color = value;
                            window.elementSdk.setConfig({ secondary_action_color: value });
                        }
                    }
                ],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            }),
            mapToEditPanelValues: (config) => new Map([
                ['hero_title', config.hero_title || defaultConfig.hero_title],
                ['hero_subtitle', config.hero_subtitle || defaultConfig.hero_subtitle],
                ['scanner_title', config.scanner_title || defaultConfig.scanner_title],
                ['empresa_title', config.empresa_title || defaultConfig.empresa_title],
                ['trabajador_title', config.trabajador_title || defaultConfig.trabajador_title],
                ['cta_button_text', config.cta_button_text || defaultConfig.cta_button_text]
            ])
        });
    }

    function updateUI() {
        // Update hero title
        const heroTitle = document.getElementById('hero-title');
        if (heroTitle) {
            const titleParts = (config.hero_title || defaultConfig.hero_title).split(' ');
            const lastWord = titleParts.pop();
            heroTitle.innerHTML = `${titleParts.join(' ')}<br><span class="text-gold italic">${lastWord}</span>`;
        }

        // Update hero subtitle
        const heroSubtitle = document.getElementById('hero-subtitle');
        if (heroSubtitle) {
            heroSubtitle.textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
        }

        // Update scanner title
        const scannerTitle = document.getElementById('scanner-title');
        if (scannerTitle) {
            const titleParts = (config.scanner_title || defaultConfig.scanner_title).split(' ');
            const lastWord = titleParts.pop();
            scannerTitle.innerHTML = `${titleParts.slice(0, -1).join(' ')}<br><span class="text-gold">${titleParts.slice(-1)} ${lastWord}</span>`;
        }

        // Update CTA text
        const finalCtaText = document.getElementById('final-cta-text');
        if (finalCtaText) {
            finalCtaText.textContent = config.cta_button_text || defaultConfig.cta_button_text;
        }

        // Update colors
        document.body.style.backgroundColor = config.background_color || defaultConfig.background_color;
    }

    // Profile Management
    function setProfile(profile) {
        currentProfile = profile;
    }

    function getCurrentProfile() {
        return currentProfile || 'trabajador';
    }

    // Initialize on load
    document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('action') === 'scan') {
            setTimeout(() => {
                const profile = urlParams.get('profile') || 'trabajador';
                openFlowModal(profile);
            }, 500);
        }
    });

    function openFlowModal(profile) {
        setProfile(profile);
        const modal = document.getElementById('flow-modal');
        const badge = document.getElementById('modal-profile-badge');
        const title = document.getElementById('modal-main-title');
        const subtitle = document.getElementById('modal-main-subtitle');

        // Initial state
        resetFlowModal();

        if (profile === 'empresa') {
            badge.className = 'profile-badge empresa mb-4';
            badge.innerHTML = `<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg> Auditoría Empresarial`;
            title.textContent = config.empresa_title || defaultConfig.empresa_title;
            subtitle.textContent = 'Analizando riesgos laborales y vulnerabilidades legales';
        } else {
            badge.className = 'profile-badge trabajador mb-4';
            badge.innerHTML = `<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg> Análisis Individual`;
            title.textContent = config.trabajador_title || defaultConfig.trabajador_title;
            subtitle.textContent = 'Detectando irregularidades y calculando tu estrategia';
        }

        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }

    function closeFlowModal() {
        document.getElementById('flow-modal').classList.add('hidden');
        document.body.style.overflow = '';
    }

    function handleScheduleAndClose(profile) {
        closeFlowModal();
        setTimeout(() => {
            scheduleCall(profile);
        }, 300);
    }

    // Scanner simulation
    function simulateScan() {
        const uploadZone = document.getElementById('upload-zone');
        const scanningState = document.getElementById('scanning-state');
        const resultTrabajador = document.getElementById('result-state-trabajador');
        const resultEmpresa = document.getElementById('result-state-empresa');
        const progressCircle = document.getElementById('progress-circle');
        const progressText = document.getElementById('progress-text');
        const scanningSubtitle = document.getElementById('scanning-subtitle');
        const header = document.getElementById('modal-header');

        const profile = getCurrentProfile();
        const subtitle = profile === 'empresa'
            ? 'Analizando riesgos laborales y vulnerabilidades legales'
            : 'Detectando irregularidades y calculando tu estrategia';

        scanningSubtitle.textContent = subtitle;

        // Show scanning state
        uploadZone.classList.add('hidden');
        header.classList.add('hidden');
        scanningState.classList.remove('hidden');

        // Animate progress
        let progress = 0;
        const startTime = Date.now();
        const duration = 3000; // 3 seconds scan

        const animate = () => {
            const elapsed = Date.now() - startTime;
            progress = Math.min(Math.round((elapsed / duration) * 100), 100);

            // Circle radius is 90, circumference is 2 * pi * 90 ≈ 565
            const offset = 565 - (565 * progress / 100);
            progressCircle.style.strokeDashoffset = offset;
            progressText.textContent = `${progress}%`;

            if (progress < 100) {
                requestAnimationFrame(animate);
            } else {
                setTimeout(() => {
                    scanningState.classList.add('hidden');
                    if (profile === 'empresa') {
                        resultEmpresa.classList.remove('hidden');
                    } else {
                        resultTrabajador.classList.remove('hidden');
                    }
                    // Auto-focus on CTA
                    console.log("Scan complete. Displaying strategic results.");
                }, 500);
            }
        };

        requestAnimationFrame(animate);
    }

    function handleAuthSubmit() {
        const email = document.getElementById('auth-email').value;
        if (!email || !email.includes('@')) {
            alert('Por favor, ingrese un correo electrónico válido para iniciar la auditoría.');
            return;
        }

        // Transition to Upload
        document.getElementById('auth-state').classList.add('hidden');
        document.getElementById('upload-zone').classList.remove('hidden');

        // Update header for next step
        const subtitle = document.getElementById('modal-main-subtitle');
        subtitle.textContent = 'Protocolo de carga de documentos activos.';
    }

    function resetFlowModal() {
        const authState = document.getElementById('auth-state');
        const uploadZone = document.getElementById('upload-zone');
        const scanningState = document.getElementById('scanning-state');
        const resultTrabajador = document.getElementById('result-state-trabajador');
        const resultEmpresa = document.getElementById('result-state-empresa');
        const progressCircle = document.getElementById('progress-circle');
        const progressText = document.getElementById('progress-text');
        const header = document.getElementById('modal-header');

        // Show Auth first
        authState.classList.remove('hidden');
        uploadZone.classList.add('hidden');
        resultTrabajador.classList.add('hidden');
        resultEmpresa.classList.add('hidden');
        scanningState.classList.add('hidden');
        header.classList.remove('hidden');

        progressCircle.style.strokeDashoffset = 565;
        progressText.textContent = '0%';

        // Reset input
        document.getElementById('auth-email').value = '';
    }

    function resetScanner() {
        // Keep this for when someone wants to go back to upload from results
        document.getElementById('auth-state').classList.add('hidden');
        document.getElementById('upload-zone').classList.remove('hidden');
        document.getElementById('result-state-trabajador').classList.add('hidden');
        document.getElementById('result-state-empresa').classList.add('hidden');
        document.getElementById('scanning-state').classList.add('hidden');
    }

    // Modal functions
    // Boutique Scheduler Logic
    let schedulerState = {
        selectedDate: null,
        selectedTime: null
    };

    function initCalendar() {
        const grid = document.getElementById('calendar-grid');
        grid.innerHTML = '';

        const days = ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'];
        days.forEach(day => {
            const el = document.createElement('div');
            el.className = 'calendar-header-day';
            el.textContent = day;
            grid.appendChild(el);
        });

        const now = new Date();
        const start = new Date(now.getFullYear(), now.getMonth(), now.getDate());

        // Find the first day of the current month's view
        const firstDayOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);
        const startPadding = firstDayOfMonth.getDay();

        for (let i = 0; i < startPadding; i++) {
            grid.appendChild(document.createElement('div'));
        }

        const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();

        for (let d = 1; d <= daysInMonth; d++) {
            const date = new Date(now.getFullYear(), now.getMonth(), d);
            const dayEl = document.createElement('div');
            dayEl.className = 'calendar-day';
            if (date < start) dayEl.classList.add('disabled');
            dayEl.textContent = d;

            dayEl.onclick = () => {
                if (date >= start) selectDate(date);
            };
            grid.appendChild(dayEl);
        }
    }

    function selectDate(date) {
        schedulerState.selectedDate = date;
        document.querySelectorAll('.calendar-day').forEach(el => el.classList.remove('active'));
        event.target.classList.add('active');

        const options = { weekday: 'long', day: 'numeric', month: 'long' };
        document.getElementById('selected-date-display').textContent = date.toLocaleDateString('es-ES', options);
        document.getElementById('summary-date').textContent = date.toLocaleDateString('es-ES', options);

        setTimeout(() => goToStep('time'), 300);
    }

    function initTimeSlots() {
        const grid = document.getElementById('time-grid');
        grid.innerHTML = '';
        const slots = ['09:00 AM', '11:00 AM', '02:00 PM', '04:00 PM', '06:00 PM'];

        slots.forEach(slot => {
            const el = document.createElement('div');
            el.className = 'time-chip';
            el.textContent = slot;
            el.onclick = () => selectTime(slot);
            grid.appendChild(el);
        });
    }

    function selectTime(time) {
        schedulerState.selectedTime = time;
        document.querySelectorAll('.time-chip').forEach(el => el.classList.remove('selected'));
        event.target.classList.add('selected');

        document.getElementById('summary-time').textContent = time;

        // Link identity
        const authEmail = document.getElementById('auth-email').value;
        document.getElementById('email').value = authEmail;

        setTimeout(() => goToStep('confirm'), 300);
    }

    function goToStep(step) {
        document.querySelectorAll('.scheduler-step').forEach(el => el.classList.add('hidden'));
        document.getElementById(`step-${step}`).classList.remove('hidden');

        if (step === 'time') initTimeSlots();
    }

    function scheduleCall(profile) {
        schedulerState = { selectedDate: null, selectedTime: null };
        goToStep('date');
        initCalendar();

        document.getElementById('schedule-modal').classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }

    function closeModal() {
        document.getElementById('schedule-modal').classList.add('hidden');
        document.body.style.overflow = '';
    }

    function submitForm(e) {
        e.preventDefault();
        closeModal();
        showToast();
        document.getElementById('schedule-form').reset();
    }

    function showToast() {
        const toast = document.getElementById('success-toast');
        toast.classList.remove('opacity-0', 'translate-y-4', 'pointer-events-none');
        toast.classList.add('opacity-100', 'translate-y-0');

        setTimeout(() => {
            toast.classList.add('opacity-0', 'translate-y-4', 'pointer-events-none');
            toast.classList.remove('opacity-100', 'translate-y-0');
        }, 4000);
    }

    function selectProfile(type) {
        setProfile(type);
        document.getElementById('scanner').scrollIntoView({ behavior: 'smooth' });
    }

    // Speed-dial toggle
    let speedDialOpen = false;
    function toggleSpeedDial() {
        speedDialOpen = !speedDialOpen;
        const toggle = document.getElementById('sd-toggle');
        const items = document.querySelectorAll('.speed-dial-item');
        toggle.classList.toggle('open', speedDialOpen);
        items.forEach(el => el.classList.toggle('open', speedDialOpen));
        // Pause float animation while open
        toggle.style.animationPlayState = speedDialOpen ? 'paused' : 'running';
    }

    // Close speed-dial when clicking outside
    document.addEventListener('click', function (e) {
        const dial = document.getElementById('floating-cta');
        if (speedDialOpen && dial && !dial.contains(e.target)) {
            toggleSpeedDial();
        }
    });

    // Reveal on scroll observer
    const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.reveal-on-scroll').forEach(el => {
        revealObserver.observe(el);
    });

    // Floating CTA visibility
    window.addEventListener('scroll', () => {
        const floatingCta = document.getElementById('floating-cta');
        const scrollY = window.scrollY;

        if (scrollY > 400) {
            floatingCta.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none');
            floatingCta.classList.add('opacity-100', 'translate-y-0');
        } else {
            floatingCta.classList.add('opacity-0', 'translate-y-10', 'pointer-events-none');
            floatingCta.classList.remove('opacity-100', 'translate-y-0');
            // Close speed dial when hidden
            if (speedDialOpen) toggleSpeedDial();
        }
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });
</script>
<script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'9d3c17f013f46def',t:'MTc3MjA3Mzc5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>